/*
 * ServerMainFrame.java
 * 
 * Created on __DATE__, __TIME__
 */

package com.teamfirst.server.ui;

import java.net.DatagramSocket;
import java.net.SocketException;

import javax.swing.JPanel;

import com.teamfirst.constant.NetConstant;
import com.teamfirst.server.services.impl.ServerMonitor;

/**
 * 
 * @author __USER__
 */
public class ServerMainFrame extends javax.swing.JFrame {

	/** Creates new form ServerMainFrame */
	public ServerMainFrame() {
		this.initComponents();
	}

	/**
	 * This method is called from within the constructor to initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is always
	 * regenerated by the Form Editor.
	 */
	// GEN-BEGIN:initComponents
	// <editor-fold defaultstate="collapsed" desc="Generated Code">
	private void initComponents() {
		// 初始化ds
		try {
			this.ds = new DatagramSocket(NetConstant.SERVER_PORT);
		} catch (SocketException e) {
			e.printStackTrace();
		}

		this.setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
		this.getContentPane().setLayout(null);
		this.getContentPane().add(this.getPanel());

		this.setBounds(300, 200, 300, 195);
		// this.pack();
	}// </editor-fold>
		// GEN-END:initComponents

	private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {
		// 启动线程
		new Thread(new ServerMonitor(this.ds)).start();

	}

	/**
	 * @param args
	 *            the command line arguments
	 */
	public static void main(String args[]) {
		java.awt.EventQueue.invokeLater(new Runnable() {
			@Override
			public void run() {
				new ServerMainFrame().setVisible(true);
			}
		});
	}

	private javax.swing.JButton jButton1;
	private DatagramSocket ds;
	private JPanel panel;

	private JPanel getPanel() {
		if (this.panel == null) {
			this.panel = new JPanel();
			this.panel.setBounds(0, 0, 288, 163);
			this.panel.setLayout(null);
			this.jButton1 = new javax.swing.JButton();
			this.jButton1.setBounds(0, 0, 288, 165);
			this.panel.add(this.jButton1);

			this.jButton1.setText("\u542F\u52A8\u670D\u52A1");
			this.jButton1
					.addActionListener(new java.awt.event.ActionListener() {
						@Override
						public void actionPerformed(
								java.awt.event.ActionEvent evt) {
							ServerMainFrame.this.jButton1ActionPerformed(evt);
						}
					});
		}
		return this.panel;
	}
}